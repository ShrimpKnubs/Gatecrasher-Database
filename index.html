<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Military Strategic Globe</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/login.css">
  <style>
    /* Temporary base visualization styles */
    .base-visualization {
      width: 100%;
      height: 250px;
      background-color: var(--background-dark);
      margin-bottom: 20px;
      position: relative;
      border: 1px solid var(--border-color);
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    .base-visualization::after {
      content: "MOTHER BASE";
      color: var(--highlight-color);
      font-size: 2em;
      font-family: 'Hack-Bold', monospace !important;
      text-align: center;
    }
    
    .base-visualization.phase-1::before {
      content: "";
      position: absolute;
      width: 50px;
      height: 50px;
      background-color: var(--highlight-color);
      border-radius: 4px;
    }
    
    .base-visualization.phase-2::before {
      content: "";
      position: absolute;
      width: 100px;
      height: 60px;
      background-color: var(--highlight-color);
      border-radius: 4px;
    }
    
    .base-visualization.phase-3::before {
      content: "";
      position: absolute;
      width: 150px;
      height: 80px;
      background-color: var(--highlight-color);
      border-radius: 4px;
    }
    
    .base-visualization.phase-4::before {
      content: "";
      position: absolute;
      width: 200px;
      height: 100px;
      background-color: var(--highlight-color);
      border-radius: 4px;
    }
    
    .base-visualization.phase-5::before {
      content: "";
      position: absolute;
      width: 250px;
      height: 120px;
      background-color: var(--highlight-color);
      border-radius: 4px;
    }
    
    .team-overview {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 15px;
    }
    
    .tab-icon {
      margin-right: 5px;
    }
  </style>
  
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-firestore-compat.js"></script>
</head>
<body>
  <!-- Z-Index Layer 1: Background -->
  <div id="vanta-background"></div>

  <!-- Z-Index Layer 2: Globe -->
  <canvas id="globe"></canvas>

  <!-- Z-Index Layer 2.5: Decorative Side Panels -->
  <div id="left-panel" class="side-panel">
    <div class="panel-element systems-monitor">
      <div class="panel-header">SYS_DIAGNOSTIC::v4.2.7</div>
      <div class="panel-content">
        <div class="system-item">
          <div>QUANTUM_ARRAY_F12</div>
          <div>87%</div>
        </div>
        <div class="system-bar">
          <div class="system-fill" style="width: 87%"></div>
        </div>
        
        <div class="system-item">
          <div>MAINFRAME_NODE::27X</div>
          <div>92%</div>
        </div>
        <div class="system-bar">
          <div class="system-fill" style="width: 92%"></div>
        </div>
        
        <div class="system-item">
          <div>CRYPTO_MATRIX_A27</div>
          <div>99%</div>
        </div>
        <div class="system-bar">
          <div class="system-fill" style="width: 99%"></div>
        </div>
        
        <div class="system-item">
          <div>NEURAL_NET::PRIMARY</div>
          <div>78%</div>
        </div>
        <div class="system-bar">
          <div class="system-fill" style="width: 78%"></div>
        </div>
      </div>
    </div>
    
    <div class="panel-element data-terminal alert">
      <div class="panel-header">KERNEL_ACCESS::0xFF7A21</div>
      <div class="panel-content">
        <div class="terminal-content">
          <div class="terminal-line">> SYS.INIT(UPLINK_PROTO_9)</div>
          <div class="terminal-line">> TELEMETRY.BUFFER[0x7F2E]</div>
          <div class="terminal-line">> SCAN.BANDW(9200.57_MHz)</div>
          <div class="terminal-line">> SAT.CVG = 0.89</div>
          <div class="terminal-line">> SNR_RATIO: 42.7dB [OPTIMAL]</div>
          <div class="terminal-line">> SYNCHRONIZING DATA_STRUCT</div>
          <div class="terminal-line">> MESH.SUBNET(TEAM_COORD_v2)</div>
          <div class="terminal-line">> INTEL::BUFFER_OVERFLOW!</div>
          <div class="terminal-line">> EXEC: TAC_ANALYSIS.BIN</div>
          <div class="terminal-line">> NEW MISSION.OBJ DETECTED</div>
          <div class="terminal-line">> AWAITING AUTH_CODE:...</div>
        </div>
      </div>
    </div>
  </div>
  
  <div id="right-panel" class="side-panel">
    <div class="panel-element waveform warning">
      <div class="panel-header">SIGNAL::ANALYZER_MK4</div>
      <div class="panel-content">
        <div class="wave-container">
          <div class="wave-line"></div>
          <div class="wave-line"></div>
          <div class="wave-line"></div>
          <div class="wave-path">
            <svg class="wave-svg" viewBox="0 0 200 50" preserveAspectRatio="none">
              <path d="M0,25 C20,10 30,40 50,25 C70,10 80,40 100,25 C120,10 130,40 150,25 C170,10 180,40 200,25" stroke="var(--warning-color)" fill="none" stroke-width="1"></path>
            </svg>
          </div>
        </div>
      </div>
    </div>
    
    <div class="panel-element">
      <div class="panel-header">GEO::SCAN_MODULE_v3.2</div>
      <div class="panel-content">
        <div class="radar-container">
          <div class="radar-circle radar-c1"></div>
          <div class="radar-circle radar-c2"></div>
          <div class="radar-circle radar-c3"></div>
          <div class="radar-center"></div>
          <div class="radar-line"></div>
          <div class="radar-dot" style="top: 45px; left: 100px;"></div>
          <div class="radar-dot" style="top: 90px; left: 65px;"></div>
          <div class="radar-dot" style="top: 30px; left: 35px;"></div>
        </div>
      </div>
    </div>
    
    <div class="panel-element warning">
      <div class="panel-header">ASSET_TRACKER::COMBAT</div>
      <div class="panel-content">
        <div class="system-item">
          <div>AMMO_MATRIX_0x7CF6</div>
          <div>65%</div>
        </div>
        <div class="system-bar">
          <div class="system-fill" style="width: 65%; background: var(--warning-color);"></div>
        </div>
        
        <div class="system-item">
          <div>CELL_POWER_RESERVE</div>
          <div>89%</div>
        </div>
        <div class="system-bar">
          <div class="system-fill" style="width: 89%; background: var(--warning-color);"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- LCD Screen Overlay (Z-Index Layer 3) -->
  <div id="lcd-overlay">
    <div class="scanline"></div>
    <div class="flicker"></div>
    <div class="interlace"></div>
    <div class="crt-corners"></div>
  </div>

  <!-- Z-Index Layer 4: UI Elements -->
  <div id="logo-screen">
    <img src="textures/logo.png" alt="Logo">
  </div>

  <!-- Login Overlay (replacing boot overlay) -->
  <div id="login-overlay">
    <div id="login-container">
      <div id="login-header">
        <h1>TACTICAL OPERATIONS SYSTEM</h1>
        <div class="login-subtitle">AUTHORIZATION REQUIRED</div>
      </div>
      
      <form id="login-form">
        <div class="form-group">
          <label for="user-id">OPERATIVE ID:</label>
          <input type="text" id="user-id" placeholder="ENTER ID" autocomplete="off">
        </div>
        
        <div class="form-group">
          <label for="password">PASSCODE:</label>
          <input type="password" id="password" placeholder="ENTER PASSCODE">
        </div>
        
        <div id="error-message"></div>
        
        <div class="form-actions">
          <button type="submit" id="login-button">ACCESS SYSTEM</button>
          <button type="button" id="continue-as-grunt">CONTINUE AS GRUNT</button>
        </div>
      </form>
    </div>
  </div>

  <!-- HQ Button (Hidden initially) -->
  <button id="hq-button" class="hq-button">HEADQUARTERS</button>

  <!-- HQ Panel -->
  <div id="hq-panel">
    <div id="hq-header">
      <div id="hq-title">HEADQUARTERS OPERATIONS</div>
      <button id="close-hq">X</button>
    </div>
    
    <div class="hq-tabs">
      <button class="hq-tab-button active" data-tab="home">
        <span class="tab-icon">âŒ‚</span> HOME
      </button>
      <button class="hq-tab-button" data-tab="combat">COMBAT UNIT</button>
      <button class="hq-tab-button" data-tab="intel">INTEL TEAM</button>
      <button class="hq-tab-button" data-tab="medical">MEDICAL TEAM</button>
      <button class="hq-tab-button" data-tab="rnd">R&D PLATFORM</button>
      <button class="hq-tab-button" data-tab="command">COMMAND</button>
      <button class="hq-tab-button" data-tab="development">BASE DEV</button>
    </div>
    
    <div class="hq-content">
      <!-- Home Tab (Base Overview) -->
      <div class="hq-tab-content active" id="home-content">
        <div class="hq-section">
          <div class="hq-section-header">
            <div class="hq-section-title">MOTHER BASE OVERVIEW</div>
            <div class="hq-section-level">PHASE: <span id="base-phase">1</span></div>
          </div>
          
          <div class="base-visualization phase-1" id="base-visualization">
            <!-- Visual representation of the base that changes with phases -->
          </div>
          
          <div class="hq-stats">
            <div class="hq-stat">
              <div class="stat-name">CAPACITY:</div>
              <div class="stat-value" id="base-capacity">20%</div>
            </div>
            <div class="hq-stat">
              <div class="stat-name">LOCATION:</div>
              <div class="stat-value">SOUTH AFRICA</div>
            </div>
            <div class="hq-stat">
              <div class="stat-name">STATUS:</div>
              <div class="stat-value">OPERATIONAL</div>
            </div>
          </div>
        </div>
        
        <div class="hq-section">
          <div class="hq-section-header">
            <div class="hq-section-title">TEAM OVERVIEW</div>
          </div>
          <div class="team-overview">
            <!-- Team overview cards will be generated dynamically -->
          </div>
        </div>
      </div>
      
      <!-- Combat Unit Tab -->
      <div class="hq-tab-content" id="combat-content">
        <div class="hq-section">
          <div class="hq-section-header">
            <div class="hq-section-title">COMBAT UNIT</div>
            <div class="hq-section-level">LEVEL: <span id="combat-level">1</span></div>
          </div>
          
          <div class="hq-stats">
            <div class="hq-stat">
              <div class="stat-name">COMBAT POWER:</div>
              <div class="stat-value" id="combat-power">100</div>
            </div>
            <div class="hq-stat">
              <div class="stat-name">ACTIVE MEMBERS:</div>
              <div class="stat-value" id="combat-members">10</div>
            </div>
            <div class="hq-stat">
              <div class="stat-name">WOUNDED:</div>
              <div class="stat-value" id="combat-wounded">0</div>
            </div>
          </div>
          
          <div class="hq-upgrade-section" id="combat-upgrade-section">
            <div class="upgrade-details">
              <div class="upgrade-title">UPGRADE TO LEVEL 2</div>
              <div class="upgrade-cost">COST: $100,000</div>
              <div class="upgrade-resources">
                RESOURCES NEEDED:
                <ul>
                  <li>FUEL: 200</li>
                  <li>MATERIALS: 300</li>
                </ul>
              </div>
              <div class="upgrade-time">TIME: 5 DAYS</div>
            </div>
            <button class="upgrade-button" data-team="combat" data-level="2">INITIATE UPGRADE</button>
          </div>
        </div>
        
        <div class="hq-section">
          <div class="hq-section-header">
            <div class="hq-section-title">DEPLOYMENTS</div>
          </div>
          
          <div class="deployments-list" id="active-deployments">
            <!-- Deployment items will be added dynamically -->
            <div class="no-deployments-message">No active deployments</div>
          </div>
          
          <button class="deployment-button" id="view-deployments-button">VIEW AVAILABLE DEPLOYMENTS</button>
        </div>
      </div>
      
      <!-- Intel Team Tab -->
      <div class="hq-tab-content" id="intel-content">
        <div class="hq-section">
          <div class="hq-section-header">
            <div class="hq-section-title">INTEL TEAM</div>
            <div class="hq-section-level">LEVEL: <span id="intel-level">1</span></div>
          </div>
          
          <div class="hq-stats">
            <div class="hq-stat">
              <div class="stat-name">INTEL GATHERING RATE:</div>
              <div class="stat-value" id="intel-rate">1x</div>
            </div>
          </div>
          
          <div class="hq-upgrade-section" id="intel-upgrade-section">
            <!-- Upgrade UI will be populated dynamically -->
          </div>
        </div>
      </div>
      
      <!-- Medical Team Tab -->
      <div class="hq-tab-content" id="medical-content">
        <div class="hq-section">
          <div class="hq-section-header">
            <div class="hq-section-title">MEDICAL TEAM</div>
            <div class="hq-section-level">LEVEL: <span id="medical-level">1</span></div>
          </div>
          
          <div class="hq-stats">
            <div class="hq-stat">
              <div class="stat-name">HEALING RATE:</div>
              <div class="stat-value" id="medical-heal-rate">1x</div>
            </div>
          </div>
          
          <div class="hq-upgrade-section" id="medical-upgrade-section">
            <!-- Upgrade UI will be populated dynamically -->
          </div>
        </div>
      </div>
      
      <!-- R&D Tab -->
      <div class="hq-tab-content" id="rnd-content">
        <div class="hq-section">
          <div class="hq-section-header">
            <div class="hq-section-title">R&D PLATFORM</div>
            <div class="hq-section-level">LEVEL: <span id="rnd-level">1</span></div>
          </div>
          
          <div class="hq-stats">
            <div class="hq-stat">
              <div class="stat-name">WEAPONS TIER:</div>
              <div class="stat-value" id="weapons-tier">1</div>
            </div>
          </div>
          
          <div class="hq-upgrade-section" id="rnd-upgrade-section">
            <!-- Upgrade UI will be populated dynamically -->
          </div>
        </div>
      </div>
      
      <!-- Command Tab -->
      <div class="hq-tab-content" id="command-content">
        <div class="hq-section">
          <div class="hq-section-header">
            <div class="hq-section-title">COMMAND</div>
            <div class="hq-section-level">LEVEL: <span id="command-level">1</span></div>
          </div>
          
          <div class="hq-stats">
            <div class="hq-stat">
              <div class="stat-name">MAX DEPLOYMENTS:</div>
              <div class="stat-value" id="max-deployments">1</div>
            </div>
          </div>
          
          <div class="hq-upgrade-section" id="command-upgrade-section">
            <!-- Upgrade UI will be populated dynamically -->
          </div>
        </div>
      </div>
      
      <!-- Base Development Tab -->
      <div class="hq-tab-content" id="development-content">
        <div class="hq-section">
          <div class="hq-section-header">
            <div class="hq-section-title">BASE DEVELOPMENT</div>
            <div class="hq-section-level">LEVEL: <span id="development-level">1</span></div>
          </div>
          
          <div class="hq-stats">
            <div class="hq-stat">
              <div class="stat-name">BUILD TIME REDUCTION:</div>
              <div class="stat-value" id="build-reduction">0%</div>
            </div>
          </div>
          
          <div class="hq-upgrade-section" id="development-upgrade-section">
            <!-- Upgrade UI will be populated dynamically -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Mission Panel -->
  <div id="mission-panel">
    <div id="mission-header">
      <div id="mission-title">MISSION BRIEFING</div>
      <button id="close-mission">X</button>
    </div>
    <div class="mission-section">
      <div class="mission-label">LOCATION</div>
      <div id="mission-location" class="mission-content">LOCATION PLACEHOLDER</div>
    </div>
    <div class="mission-stats">
      <div class="stat-box">
        <div class="stat-label">DIFFICULTY</div>
        <div id="mission-difficulty" class="stat-value">MEDIUM</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">PAYMENT</div>
        <div id="mission-payment" class="stat-value">$10,000</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">DURATION</div>
        <div id="mission-duration" class="stat-value">2 HRS</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">TEAM SIZE</div>
        <div id="mission-team-size" class="stat-value">SQUAD (4-8)</div>
      </div>
    </div>
    <button id="mission-intel-button" class="intel-button">VIEW INTEL</button>
  </div>
  
  <!-- Intel Panel -->
  <div id="intel-panel">
    <div id="intel-header">
      <div id="intel-title">MISSION INTEL</div>
      <button id="close-intel">X</button>
    </div>
    <div class="intel-section">
      <div id="intel-content" class="intel-content">
        <!-- Intel content will be loaded dynamically -->
      </div>
    </div>
  </div>

  <!-- Admin Controls (Hidden initially) -->
  <div id="admin-controls" class="admin-panel">
    <div class="admin-header">ADMIN CONTROLS</div>
    
    <div class="admin-section">
      <div class="admin-section-title">MISSION MANAGEMENT</div>
      <button id="create-mission-button">CREATE MISSION</button>
      <button id="edit-mission-button">EDIT MISSION</button>
      <button id="complete-mission-button">COMPLETE MISSION</button>
    </div>
    
    <div class="admin-section">
      <div class="admin-section-title">USER MANAGEMENT</div>
      <button id="create-user-button">CREATE USER</button>
      <button id="edit-user-button">EDIT USER</button>
    </div>
  </div>

  <!-- Squad Leader Controls (Hidden initially) -->
  <div id="squad-controls" class="squad-panel">
    <div class="squad-header">SQUAD LEADER CONTROLS</div>
    
    <div class="squad-section">
      <div class="squad-section-title">RESOURCES</div>
      <div class="resource-display" id="resource-display">
        <!-- Resource values will be populated dynamically -->
      </div>
    </div>
    
    <div class="squad-section">
      <div class="squad-section-title">ACTIONS</div>
      <button id="accept-mission-button">ACCEPT MISSION</button>
      <button id="send-deployment-button">SEND DEPLOYMENT</button>
      <button id="shop-button">EQUIPMENT SHOP</button>
    </div>
  </div>

  <div id="notification">SYSTEM NOTIFICATION</div>

  <div id="status-bar">
    <div id="status-text">STATUS: OPERATIONAL</div>
    <div id="date-time">00:00:00 UTC</div>
  </div>

  <div id="volume-control">
    <img id="volume-icon" src="textures/volume.png" alt="Volume">
    <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="0.5">
  </div>

  <!-- Audio -->
  <audio id="background-music" loop>
    <source src="music/background-music.mp3" type="audio/mpeg">
  </audio>
  <audio id="activation-sound">
    <source src="sounds/activation-sound.mp3" type="audio/mpeg">
  </audio>
  <audio id="tab-sound">
    <source src="sounds/tab-sound.mp3" type="audio/mpeg">
  </audio>
  <audio id="mission-sound">
    <source src="sounds/mission-sound.mp3" type="audio/mpeg">
  </audio>
  <audio id="intel-sound">
    <source src="sounds/intel-sound.mp3" type="audio/mpeg">
  </audio>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
